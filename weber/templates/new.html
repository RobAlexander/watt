{% extends 'layout.html' %}
{% block head %}
    <script type="application/javascript">
        $(document).ready(function() {
            $('.selectall').click(function() {
                var selectId = $(this).prop('id').split('-')[0];
                $('#' + selectId + ' option').prop('selected', true);
            });
        });
    </script>
{% endblock %}
{% block body %}
    <h1>New Job</h1>
    <form name="job" method="POST">
        <div class="form-group">
            <label for="formPages">Pages</label>
            <input type="text" class="form-control" id="formPages" name="pages" aria-describedby="pagesHelp" placeholder="Page destination" value="{{ pages }}">
            <small id="pagesHelp" class="form-text text-muted">Path on server file system to use.</small>
        </div>
        <div class="form-group">
            <label for="formMutationOperators">Mutation Operators</label>
            <div class="input-group">
                <span class="input-group-btn">
                    <button class="btn btn-secondary selectall" type="button" id="formMutationOperators-all">All</button>
                </span>
                <select multiple class="form-control" id="formMutationOperators" name="mutations" aria-describedby="operatorHelp">
                    {% for mutation in all_mutations %}
                        <option value="{{ mutation }}">{{ mutation }}</option>
                    {% endfor %}
                </select>
            </div>
            <small id="operatorHelp" class="form-text text-muted">On desktop, hold <kbd>Ctrl</kbd> to select multiple.</small>
        </div>
        <div class="form-group">
            <label for="formTesters">Testers</label>
            <div class="input-group">
                <span class="input-group-btn">
                    <button class="btn btn-secondary selectall" type="button" id="formTesters-all">All</button>
                </span>
                <select multiple class="form-control" id="formTesters" name="testers" aria-describedby="testersHelp">
                    {% for tester in all_testers %}
                        <option value="{{ tester }}">{{ tester }}</option>
                    {% endfor %}
                </select>
            </div>
            <small id="testersHelp" class="form-text text-muted">On desktop, hold <kbd>Ctrl</kbd> to select multiple.</small>
        </div>
        <button type="submit" class="btn btn-primary">Run Job</button>
    </form>
{% endblock %}
